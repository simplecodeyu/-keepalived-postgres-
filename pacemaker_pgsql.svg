<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="1064px" height="2121px" viewBox="-0.5 -0.5 1064 2121" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2022-04-30T12:29:04.145Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/100.0.4896.127 Safari/537.36&quot; etag=&quot;8DcqoLznP_Yh_Gm6Ru6R&quot; version=&quot;17.5.0&quot; type=&quot;github&quot;&gt;&lt;diagram id=&quot;h3cgLMUsS0xWwfzL2nke&quot; name=&quot;Page-1&quot;&gt;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&lt;/diagram&gt;&lt;/mxfile&gt;" resource="https://app.diagrams.net/?src=about#Hsimplecodeyu%2Fhot-standy-keepalived-postgres%2Fmain%2Fpacemaker_pgsql.svg"><defs/><g><path d="M 283.06 60 L 283.06 80 L 283.06 70 L 283.02 83.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283 88.88 L 279.52 81.87 L 283.02 83.63 L 286.52 81.89 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="223" y="0" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 30px; margin-left: 224px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">start</div></div></div></foreignObject><text x="283" y="34" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">start</text></switch></g><path d="M 283 150 L 283 183.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283 188.88 L 279.5 181.88 L 283 183.63 L 286.5 181.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="223" y="90" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 120px; margin-left: 224px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">pgsql_monitor</div></div></div></foreignObject><text x="283" y="124" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">pgsql_monitor</text></switch></g><path d="M 283 250 L 283 283.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 283 288.88 L 279.5 281.88 L 283 283.63 L 286.5 281.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="223" y="190" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 220px; margin-left: 224px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">pgsql_real_monitor</div></div></div></foreignObject><text x="283" y="224" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">pgsql_real_monitor</text></switch></g><path d="M 233.05 345.06 L 63.06 345.06 L 63.06 973.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 63.06 978.88 L 59.56 971.88 L 63.06 973.63 L 66.56 971.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 485px; margin-left: 65px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">false</div></div></div></foreignObject><text x="65" y="488" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">false</text></switch></g><path d="M 333 345 L 433.63 345" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 438.88 345 L 431.88 348.5 L 433.63 345 L 431.88 341.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 345px; margin-left: 372px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">true</div></div></div></foreignObject><text x="372" y="348" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 283 290 L 333 345 L 283 400 L 233 345 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 345px; margin-left: 234px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">pgsql_status<br />判断数据库运行状态</div></div></div></foreignObject><text x="283" y="349" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">pgsql_status...</text></switch></g><rect x="3" y="980" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1010px; margin-left: 4px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return <br />$OCF_NOT_RUNNING</div></div></div></foreignObject><text x="63" y="1014" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">return...</text></switch></g><path d="M 490 400 L 490 443.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 448.88 L 486.5 441.88 L 490 443.63 L 493.5 441.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 422px; margin-left: 494px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">true</div></div></div></foreignObject><text x="494" y="425" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">true</text></switch></g><path d="M 490 290 L 540 345 L 490 400 L 440 345 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 345px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">is_replication<br />是否流复制</div></div></div></foreignObject><text x="490" y="349" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">is_replication...</text></switch></g><path d="M 490 520 L 490 553.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 558.88 L 486.5 551.88 L 490 553.63 L 493.5 551.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="410" y="450" width="160" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 485px; margin-left: 411px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">查询当前数据库是主还是备机<br />select pg_is_in_recovery()<br />output=f 主机  t备机</div></div></div></foreignObject><text x="490" y="489" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">查询当前数据库是主还是备机select pg_is_in_recovery()...</text></switch></g><path d="M 440.05 615.06 L 248 615.06 L 248 723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248 728.88 L 244.5 721.88 L 248 723.63 L 251.5 721.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 616px; margin-left: 263px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">f</div></div></div></foreignObject><text x="263" y="619" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">f</text></switch></g><path d="M 490 670 L 490 723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 728.88 L 486.5 721.88 L 490 723.63 L 493.5 721.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 710px; margin-left: 491px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">t</div></div></div></foreignObject><text x="491" y="714" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">t</text></switch></g><path d="M 539.95 615.06 L 747.06 615.06 L 747.06 723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 747.06 728.88 L 743.56 721.88 L 747.06 723.63 L 750.56 721.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 616px; margin-left: 722px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">异常</div></div></div></foreignObject><text x="722" y="619" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">异常</text></switch></g><path d="M 490 560 L 540 615 L 490 670 L 440 615 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 98px; height: 1px; padding-top: 615px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">case <br />output的值</div></div></div></foreignObject><text x="490" y="619" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">case...</text></switch></g><path d="M 248 800 L 248 863.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248 868.88 L 244.5 861.88 L 248 863.63 L 251.5 861.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="168" y="730" width="160" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 765px; margin-left: 169px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">当前数据库为主库<br /></div></div></div></foreignObject><text x="248" y="769" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">当前数据库为主库&#xa;</text></switch></g><path d="M 490 800 L 490 863.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 868.88 L 486.5 861.88 L 490 863.63 L 493.5 861.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="410" y="730" width="160" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 765px; margin-left: 411px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">当前数据库为备库</div></div></div></foreignObject><text x="490" y="769" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">当前数据库为备库</text></switch></g><path d="M 747 800 L 747 973.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 747 978.88 L 743.5 971.88 L 747 973.63 L 750.5 971.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="667" y="730" width="160" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 765px; margin-left: 668px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">异常</div></div></div></foreignObject><text x="747" y="769" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">异常</text></switch></g><path d="M 248 930 L 248 973.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 248 978.88 L 244.5 971.88 L 248 973.63 L 251.5 971.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="143" y="870" width="210" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 900px; margin-left: 144px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">crm_master -l reboot -v  1000</div></div></div></foreignObject><text x="248" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">crm_master -l reboot -v  1000</text></switch></g><path d="M 246 1040 L 246 1080 L 490 1080 L 490 1133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 1138.88 L 486.5 1131.88 L 490 1133.63 L 493.5 1131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="168" y="980" width="160" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1010px; margin-left: 169px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return <br />$OCF_RUNNING_MASTER</div></div></div></foreignObject><text x="248" y="1014" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">return...</text></switch></g><path d="M 490 930 L 490 973.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 978.88 L 486.5 971.88 L 490 973.63 L 493.5 971.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="388" y="870" width="210" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 900px; margin-left: 389px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">crm_master -l reboot -v  -INFINITY</div></div></div></foreignObject><text x="493" y="904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">crm_master -l reboot -v  -INFINITY</text></switch></g><path d="M 490 1040 L 490 1133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 1138.88 L 486.5 1131.88 L 490 1133.63 L 493.5 1131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="410" y="980" width="160" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1010px; margin-left: 411px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return <br />$OCF_SUCCESS</div></div></div></foreignObject><text x="490" y="1014" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">return...</text></switch></g><path d="M 747.06 1040 L 747.06 1080 L 490 1080 L 490 1133.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490 1138.88 L 486.5 1131.88 L 490 1133.63 L 493.5 1131.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="667" y="980" width="160" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 158px; height: 1px; padding-top: 1010px; margin-left: 668px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">return <br />$OCF_ERR_GENERIC</div></div></div></foreignObject><text x="747" y="1014" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">return...</text></switch></g><path d="M 490 1210 L 490 1235.06 L 490.37 1253.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490.48 1258.88 L 486.84 1251.95 L 490.37 1253.63 L 493.84 1251.81 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="385" y="1140" width="210" height="70" rx="10.5" ry="10.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 208px; height: 1px; padding-top: 1175px; margin-left: 386px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">pgsql_replication_monitor</div></div></div></foreignObject><text x="490" y="1179" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">pgsql_replication_monitor</text></switch></g><path d="M 439.06 1315.06 L 303.06 1315.06 L 303.06 1433.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 303.06 1438.88 L 299.56 1431.88 L 303.06 1433.63 L 306.56 1431.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1320px; margin-left: 304px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">返回异常</div></div></div></foreignObject><text x="304" y="1323" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">返回异常</text></switch></g><path d="M 490.47 1369.97 L 490.47 1397.53 L 490.88 1418.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 490.98 1423.88 L 487.34 1416.95 L 490.88 1418.63 L 494.34 1416.82 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1392px; margin-left: 492px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">f</div></div></div></foreignObject><text x="492" y="1395" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">f</text></switch></g><path d="M 490.5 1260 L 542 1315 L 490.5 1370 L 439 1315 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 101px; height: 1px; padding-top: 1315px; margin-left: 440px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">如果返回值不是备机且不是主机</div></div></div></foreignObject><text x="491" y="1319" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">如果返回值不是备机且不是主机</text></switch></g><rect x="243" y="1440" width="120" height="60" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 1470px; margin-left: 244px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span>return </span><br /><span>$OCF_ERR_GENERIC</span></div></div></div></foreignObject><text x="303" y="1474" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">return...</text></switch></g><path d="M 491.06 1534.94 L 491.06 1575.06 L 387.06 1575.06 L 387.01 1608.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 387 1613.88 L 383.51 1606.88 L 387.01 1608.63 L 390.51 1606.89 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1574px; margin-left: 462px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">t<br /></div></div></div></foreignObject><text x="462" y="1577" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">t&#xa;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1576px; margin-left: 421px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">此时说明是主机</div></div></div></foreignObject><text x="421" y="1579" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">此时说明是主机</text></switch></g><path d="M 542.5 1480 L 694.47 1480 L 694.5 1558.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 694.5 1563.88 L 691 1556.88 L 694.5 1558.63 L 698 1556.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1482px; margin-left: 653px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">f<br /></div></div></div></foreignObject><text x="653" y="1485" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">f&#xa;</text></switch></g><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1480px; margin-left: 607px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">此时说明是备机</div></div></div></foreignObject><text x="607" y="1483" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">此时说明是备机</text></switch></g><path d="M 491 1425 L 542.5 1480 L 491 1535 L 439.5 1480 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 101px; height: 1px; padding-top: 1480px; margin-left: 441px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">如果是主机</div></div></div></foreignObject><text x="491" y="1484" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">如果是主机</text></switch></g><path d="M 387 1675 L 387 1723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 387 1728.88 L 383.5 1721.88 L 387 1723.63 L 390.5 1721.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="290" y="1615" width="194" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 192px; height: 1px; padding-top: 1645px; margin-left: 291px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">postgresql()-data-status:Latest<br />postgresql()-status:PRI</div></div></div></foreignObject><text x="387" y="1649" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">postgresql()-data-status:Latest...</text></switch></g><path d="M 694.47 1674.97 L 694.47 1702.47 L 695.07 1723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 695.22 1728.88 L 691.52 1721.98 L 695.07 1723.63 L 698.52 1721.79 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1694px; margin-left: 693px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">f</div></div></div></foreignObject><text x="693" y="1698" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">f</text></switch></g><path d="M 746 1620 L 952.94 1620 L 953 1723.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 953 1728.88 L 949.5 1721.88 L 953 1723.63 L 956.5 1721.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 1px; height: 1px; padding-top: 1619px; margin-left: 872px;"><div data-drawio-colors="color: rgb(0, 0, 0); background-color: rgb(255, 255, 255); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 11px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; background-color: rgb(255, 255, 255); white-space: nowrap;">t</div></div></div></foreignObject><text x="872" y="1622" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="11px" text-anchor="middle">t</text></switch></g><path d="M 694.5 1565 L 746 1620 L 694.5 1675 L 643 1620 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 101px; height: 1px; padding-top: 1620px; margin-left: 644px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">检查当前副本下是否存在主节点</div></div></div></foreignObject><text x="695" y="1624" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">检查当前副本下是否存在主节点</text></switch></g><path d="M 695.29 1760 L 695.29 1781.06 L 694.74 1795.64" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 694.54 1800.88 L 691.31 1793.76 L 694.74 1795.64 L 698.31 1794.02 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="592" y="1730" width="206.5" height="30" rx="4.5" ry="4.5" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 205px; height: 1px; padding-top: 1745px; margin-left: 593px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="color: rgb(0 , 0 , 0) ; font-family: &quot;helvetica&quot; ; font-size: 12px ; font-style: normal ; font-weight: 400 ; letter-spacing: normal ; text-align: center ; text-indent: 0px ; text-transform: none ; word-spacing: 0px ; background-color: rgb(248 , 249 , 250) ; display: inline ; float: none">postgresql()-status:HS:alone</span></div></div></div></foreignObject><text x="695" y="1749" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">postgresql()-status:HS:alone</text></switch></g><path d="M 694.59 1862 L 694.59 1961.06 L 694.48 2053.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 694.47 2058.88 L 690.98 2051.88 L 694.48 2053.63 L 697.98 2051.89 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="588.75" y="1802" width="211.5" height="60" rx="9" ry="9" fill="#f8cecc" stroke="#b85450" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 210px; height: 1px; padding-top: 1832px; margin-left: 590px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">对比节点间的时间线<br />符合条件的升主（这里有没有确定的待定）</div></div></div></foreignObject><text x="695" y="1836" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">对比节点间的时间线&#xa;符合条件的升主（这里有没有确定的待定）</text></switch></g><path d="M 952.94 1830 L 952.94 2000 L 694.47 2000 L 694.47 2053.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 694.47 2058.88 L 690.97 2051.88 L 694.47 2053.63 L 697.97 2051.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="843" y="1730" width="220" height="100" rx="15" ry="15" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 218px; height: 1px; padding-top: 1780px; margin-left: 844px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">说明当前集群存在主机，我检查一下当前节点的我的资源副本如果发现是disconnect，则说明当前备机与主库的流复制没有建立，所以我将<br />postgresql()-data-status:HS:alone<br />如果非disconnect说明连接建立不做任何操作</div></div></div></foreignObject><text x="953" y="1784" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">说明当前集群存在主机，我检查一下当前节点的我的资源副本如果发现是disconnect，则说明当前备机与主库的流复制没有建立，所以我将...</text></switch></g><rect x="634.5" y="2060" width="120" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 118px; height: 1px; padding-top: 2090px; margin-left: 636px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">返回rc，rc为上面real查询到的当前真实数据库状态</div></div></div></foreignObject><text x="695" y="2094" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">返回rc，rc为上面real查询到的当前真实数据库状态</text></switch></g><path d="M 387.06 1790 L 387.06 1830 L 386.7 1862.13" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 386.64 1867.38 L 383.22 1860.34 L 386.7 1862.13 L 390.22 1860.42 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="290" y="1730" width="194" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 192px; height: 1px; padding-top: 1760px; margin-left: 291px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">control_slave_status<br />控制所有备机的状态</div></div></div></foreignObject><text x="387" y="1764" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">control_slave_status...</text></switch></g><path d="M 394.5 1930 L 394.5 1973.63" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 394.5 1978.88 L 391 1971.88 L 394.5 1973.63 L 398 1971.88 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="163" y="1870" width="463" height="60" rx="9" ry="9" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 461px; height: 1px; padding-top: 1900px; margin-left: 164px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">select application_name,upper(state),upper(sync_state) from pg_stat_replication<br />查询当前主节点下流复制状态，返回值例如salve1|streaming|sync，这里可能返回多条<br />因为数据库一个主库可以有多个从库</div></div></div></foreignObject><text x="395" y="1904" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">select application_name,upper(state),upper(sync_state) from pg_stat_replicati...</text></switch></g><path d="M 394.5 1980 L 446 2035 L 394.5 2090 L 343 2035 Z" fill="rgb(255, 255, 255)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 101px; height: 1px; padding-top: 2035px; margin-left: 344px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;">返回值是否成功</div></div></div></foreignObject><text x="395" y="2039" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">返回值是否成功</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>